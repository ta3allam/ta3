import{f as xe,j as e,g as et,r as o,h as B,P as W,i as Fe,k as A,l as fe,m as ue,d as _,X as or,n as nr,o as wt,A as ar,p as bt,D as lr,C as ir,q as tt,s as cr,V as dr,v as pt,R as ur,w as mr,x as pr,y as hr,z as fr,u as xr,B as gr,b as ee}from"./index-B1AbcRLT.js";import{a as vr,u as St,b as wr,R as jt,T as Nt,O as st,c as rt,d as ot,e as nt,f as at,P as yt,h as br,g as Sr,i as jr,F as Nr,C as yr,j as Ct,W as Cr,D as ht}from"./DashboardLayout-DGQbs6zz.js";import{S as Tr,d as $e,T as Dr,a as Pr,b as Re,c as Ee}from"./tabs-GxM7dCxS.js";import{A as Ar}from"./AnnouncementCard-BdtMJrQ0.js";import{C as Tt,a as Dt,b as Pt,d as At}from"./card-BRuRsQMt.js";import{B as Rr}from"./badge-DcZHuegf.js";import{B as M,b as Rt,I as G}from"./input-DavDLgwn.js";import{L as E}from"./label-DFly8PNL.js";import{P as _e}from"./plus-1fJLPJsN.js";/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lt=xe("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Er=xe("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _r=xe("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ir=xe("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Et=xe("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ke=xe("File",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ft=xe("Pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _t=xe("Video",[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]]),kr={assignment:"bg-pine-blue-500",quiz:"bg-rich-mahogany-500",exam:"bg-wine-plum-500",other:"bg-secondary"},Lr={assignment:"واجب",quiz:"اختبار قصير",exam:"امتحان",other:"أخرى"};function Or({events:t}){const r=n=>new Date(n).toLocaleDateString("ar-EG",{month:"long",day:"numeric",year:"numeric"}),s=n=>new Date(n).toLocaleTimeString("ar-EG",{hour:"2-digit",minute:"2-digit"}),a=[...t].sort((n,i)=>new Date(n.due_date).getTime()-new Date(i.due_date).getTime());return e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-xl font-bold text-right",children:"الأحداث القادمة"}),a.length>0?a.map(n=>e.jsxs(Tt,{className:"hover:shadow-md transition-shadow",children:[e.jsx(Dt,{className:"pb-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(Rr,{className:kr[n.event_type],children:Lr[n.event_type]}),e.jsx(Pt,{className:"text-base text-right",children:n.title})]})}),e.jsxs(At,{className:"space-y-2",children:[n.description&&e.jsx("p",{className:"text-sm text-muted-foreground text-right",children:n.description}),e.jsxs("div",{className:"flex items-center justify-end gap-4 text-xs text-muted-foreground",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("span",{children:s(n.due_date)}),e.jsx(_r,{className:"h-3 w-3"})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("span",{children:r(n.due_date)}),e.jsx(vr,{className:"h-3 w-3"})]})]})]})]},n.id)):e.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"لا توجد أحداث قادمة"})]})}function qe(t,[r,s]){return Math.min(s,Math.max(r,t))}function Mr(t,r){return o.useReducer((s,a)=>r[s][a]??s,t)}var it="ScrollArea",[It,rn]=et(it),[Fr,te]=It(it),kt=o.forwardRef((t,r)=>{const{__scopeScrollArea:s,type:a="hover",dir:n,scrollHideDelay:i=600,...c}=t,[l,d]=o.useState(null),[u,m]=o.useState(null),[p,f]=o.useState(null),[b,N]=o.useState(null),[x,v]=o.useState(null),[y,g]=o.useState(0),[w,F]=o.useState(0),[V,X]=o.useState(!1),[O,H]=o.useState(!1),C=B(r,I=>d(I)),k=St(n);return e.jsx(Fr,{scope:s,type:a,dir:k,scrollHideDelay:i,scrollArea:l,viewport:u,onViewportChange:m,content:p,onContentChange:f,scrollbarX:b,onScrollbarXChange:N,scrollbarXEnabled:V,onScrollbarXEnabledChange:X,scrollbarY:x,onScrollbarYChange:v,scrollbarYEnabled:O,onScrollbarYEnabledChange:H,onCornerWidthChange:g,onCornerHeightChange:F,children:e.jsx(W.div,{dir:k,...c,ref:C,style:{position:"relative","--radix-scroll-area-corner-width":y+"px","--radix-scroll-area-corner-height":w+"px",...t.style}})})});kt.displayName=it;var Lt="ScrollAreaViewport",Ot=o.forwardRef((t,r)=>{const{__scopeScrollArea:s,children:a,nonce:n,...i}=t,c=te(Lt,s),l=o.useRef(null),d=B(r,l,c.onViewportChange);return e.jsxs(e.Fragment,{children:[e.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),e.jsx(W.div,{"data-radix-scroll-area-viewport":"",...i,ref:d,style:{overflowX:c.scrollbarXEnabled?"scroll":"hidden",overflowY:c.scrollbarYEnabled?"scroll":"hidden",...t.style},children:e.jsx("div",{ref:c.onContentChange,style:{minWidth:"100%",display:"table"},children:a})})]})});Ot.displayName=Lt;var ne="ScrollAreaScrollbar",ct=o.forwardRef((t,r)=>{const{forceMount:s,...a}=t,n=te(ne,t.__scopeScrollArea),{onScrollbarXEnabledChange:i,onScrollbarYEnabledChange:c}=n,l=t.orientation==="horizontal";return o.useEffect(()=>(l?i(!0):c(!0),()=>{l?i(!1):c(!1)}),[l,i,c]),n.type==="hover"?e.jsx(Vr,{...a,ref:r,forceMount:s}):n.type==="scroll"?e.jsx(Hr,{...a,ref:r,forceMount:s}):n.type==="auto"?e.jsx(Mt,{...a,ref:r,forceMount:s}):n.type==="always"?e.jsx(dt,{...a,ref:r}):null});ct.displayName=ne;var Vr=o.forwardRef((t,r)=>{const{forceMount:s,...a}=t,n=te(ne,t.__scopeScrollArea),[i,c]=o.useState(!1);return o.useEffect(()=>{const l=n.scrollArea;let d=0;if(l){const u=()=>{window.clearTimeout(d),c(!0)},m=()=>{d=window.setTimeout(()=>c(!1),n.scrollHideDelay)};return l.addEventListener("pointerenter",u),l.addEventListener("pointerleave",m),()=>{window.clearTimeout(d),l.removeEventListener("pointerenter",u),l.removeEventListener("pointerleave",m)}}},[n.scrollArea,n.scrollHideDelay]),e.jsx(Fe,{present:s||i,children:e.jsx(Mt,{"data-state":i?"visible":"hidden",...a,ref:r})})}),Hr=o.forwardRef((t,r)=>{const{forceMount:s,...a}=t,n=te(ne,t.__scopeScrollArea),i=t.orientation==="horizontal",c=He(()=>d("SCROLL_END"),100),[l,d]=Mr("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return o.useEffect(()=>{if(l==="idle"){const u=window.setTimeout(()=>d("HIDE"),n.scrollHideDelay);return()=>window.clearTimeout(u)}},[l,n.scrollHideDelay,d]),o.useEffect(()=>{const u=n.viewport,m=i?"scrollLeft":"scrollTop";if(u){let p=u[m];const f=()=>{const b=u[m];p!==b&&(d("SCROLL"),c()),p=b};return u.addEventListener("scroll",f),()=>u.removeEventListener("scroll",f)}},[n.viewport,i,d,c]),e.jsx(Fe,{present:s||l!=="hidden",children:e.jsx(dt,{"data-state":l==="hidden"?"hidden":"visible",...a,ref:r,onPointerEnter:A(t.onPointerEnter,()=>d("POINTER_ENTER")),onPointerLeave:A(t.onPointerLeave,()=>d("POINTER_LEAVE"))})})}),Mt=o.forwardRef((t,r)=>{const s=te(ne,t.__scopeScrollArea),{forceMount:a,...n}=t,[i,c]=o.useState(!1),l=t.orientation==="horizontal",d=He(()=>{if(s.viewport){const u=s.viewport.offsetWidth<s.viewport.scrollWidth,m=s.viewport.offsetHeight<s.viewport.scrollHeight;c(l?u:m)}},10);return Te(s.viewport,d),Te(s.content,d),e.jsx(Fe,{present:a||i,children:e.jsx(dt,{"data-state":i?"visible":"hidden",...n,ref:r})})}),dt=o.forwardRef((t,r)=>{const{orientation:s="vertical",...a}=t,n=te(ne,t.__scopeScrollArea),i=o.useRef(null),c=o.useRef(0),[l,d]=o.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),u=Bt(l.viewport,l.content),m={...a,sizes:l,onSizesChange:d,hasThumb:u>0&&u<1,onThumbChange:f=>i.current=f,onThumbPointerUp:()=>c.current=0,onThumbPointerDown:f=>c.current=f};function p(f,b){return qr(f,c.current,l,b)}return s==="horizontal"?e.jsx(zr,{...m,ref:r,onThumbPositionChange:()=>{if(n.viewport&&i.current){const f=n.viewport.scrollLeft,b=xt(f,l,n.dir);i.current.style.transform=`translate3d(${b}px, 0, 0)`}},onWheelScroll:f=>{n.viewport&&(n.viewport.scrollLeft=f)},onDragScroll:f=>{n.viewport&&(n.viewport.scrollLeft=p(f,n.dir))}}):s==="vertical"?e.jsx(Br,{...m,ref:r,onThumbPositionChange:()=>{if(n.viewport&&i.current){const f=n.viewport.scrollTop,b=xt(f,l);i.current.style.transform=`translate3d(0, ${b}px, 0)`}},onWheelScroll:f=>{n.viewport&&(n.viewport.scrollTop=f)},onDragScroll:f=>{n.viewport&&(n.viewport.scrollTop=p(f))}}):null}),zr=o.forwardRef((t,r)=>{const{sizes:s,onSizesChange:a,...n}=t,i=te(ne,t.__scopeScrollArea),[c,l]=o.useState(),d=o.useRef(null),u=B(r,d,i.onScrollbarXChange);return o.useEffect(()=>{d.current&&l(getComputedStyle(d.current))},[d]),e.jsx(Vt,{"data-orientation":"horizontal",...n,ref:u,sizes:s,style:{bottom:0,left:i.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:i.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":Ve(s)+"px",...t.style},onThumbPointerDown:m=>t.onThumbPointerDown(m.x),onDragScroll:m=>t.onDragScroll(m.x),onWheelScroll:(m,p)=>{if(i.viewport){const f=i.viewport.scrollLeft+m.deltaX;t.onWheelScroll(f),Ut(f,p)&&m.preventDefault()}},onResize:()=>{d.current&&i.viewport&&c&&a({content:i.viewport.scrollWidth,viewport:i.viewport.offsetWidth,scrollbar:{size:d.current.clientWidth,paddingStart:Oe(c.paddingLeft),paddingEnd:Oe(c.paddingRight)}})}})}),Br=o.forwardRef((t,r)=>{const{sizes:s,onSizesChange:a,...n}=t,i=te(ne,t.__scopeScrollArea),[c,l]=o.useState(),d=o.useRef(null),u=B(r,d,i.onScrollbarYChange);return o.useEffect(()=>{d.current&&l(getComputedStyle(d.current))},[d]),e.jsx(Vt,{"data-orientation":"vertical",...n,ref:u,sizes:s,style:{top:0,right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":Ve(s)+"px",...t.style},onThumbPointerDown:m=>t.onThumbPointerDown(m.y),onDragScroll:m=>t.onDragScroll(m.y),onWheelScroll:(m,p)=>{if(i.viewport){const f=i.viewport.scrollTop+m.deltaY;t.onWheelScroll(f),Ut(f,p)&&m.preventDefault()}},onResize:()=>{d.current&&i.viewport&&c&&a({content:i.viewport.scrollHeight,viewport:i.viewport.offsetHeight,scrollbar:{size:d.current.clientHeight,paddingStart:Oe(c.paddingTop),paddingEnd:Oe(c.paddingBottom)}})}})}),[Wr,Ft]=It(ne),Vt=o.forwardRef((t,r)=>{const{__scopeScrollArea:s,sizes:a,hasThumb:n,onThumbChange:i,onThumbPointerUp:c,onThumbPointerDown:l,onThumbPositionChange:d,onDragScroll:u,onWheelScroll:m,onResize:p,...f}=t,b=te(ne,s),[N,x]=o.useState(null),v=B(r,C=>x(C)),y=o.useRef(null),g=o.useRef(""),w=b.viewport,F=a.content-a.viewport,V=fe(m),X=fe(d),O=He(p,10);function H(C){if(y.current){const k=C.clientX-y.current.left,I=C.clientY-y.current.top;u({x:k,y:I})}}return o.useEffect(()=>{const C=k=>{const I=k.target;(N==null?void 0:N.contains(I))&&V(k,F)};return document.addEventListener("wheel",C,{passive:!1}),()=>document.removeEventListener("wheel",C,{passive:!1})},[w,N,F,V]),o.useEffect(X,[a,X]),Te(N,O),Te(b.content,O),e.jsx(Wr,{scope:s,scrollbar:N,hasThumb:n,onThumbChange:fe(i),onThumbPointerUp:fe(c),onThumbPositionChange:X,onThumbPointerDown:fe(l),children:e.jsx(W.div,{...f,ref:v,style:{position:"absolute",...f.style},onPointerDown:A(t.onPointerDown,C=>{C.button===0&&(C.target.setPointerCapture(C.pointerId),y.current=N.getBoundingClientRect(),g.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",b.viewport&&(b.viewport.style.scrollBehavior="auto"),H(C))}),onPointerMove:A(t.onPointerMove,H),onPointerUp:A(t.onPointerUp,C=>{const k=C.target;k.hasPointerCapture(C.pointerId)&&k.releasePointerCapture(C.pointerId),document.body.style.webkitUserSelect=g.current,b.viewport&&(b.viewport.style.scrollBehavior=""),y.current=null})})})}),Le="ScrollAreaThumb",Ht=o.forwardRef((t,r)=>{const{forceMount:s,...a}=t,n=Ft(Le,t.__scopeScrollArea);return e.jsx(Fe,{present:s||n.hasThumb,children:e.jsx(Ur,{ref:r,...a})})}),Ur=o.forwardRef((t,r)=>{const{__scopeScrollArea:s,style:a,...n}=t,i=te(Le,s),c=Ft(Le,s),{onThumbPositionChange:l}=c,d=B(r,p=>c.onThumbChange(p)),u=o.useRef(void 0),m=He(()=>{u.current&&(u.current(),u.current=void 0)},100);return o.useEffect(()=>{const p=i.viewport;if(p){const f=()=>{if(m(),!u.current){const b=Yr(p,l);u.current=b,l()}};return l(),p.addEventListener("scroll",f),()=>p.removeEventListener("scroll",f)}},[i.viewport,m,l]),e.jsx(W.div,{"data-state":c.hasThumb?"visible":"hidden",...n,ref:d,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...a},onPointerDownCapture:A(t.onPointerDownCapture,p=>{const b=p.target.getBoundingClientRect(),N=p.clientX-b.left,x=p.clientY-b.top;c.onThumbPointerDown({x:N,y:x})}),onPointerUp:A(t.onPointerUp,c.onThumbPointerUp)})});Ht.displayName=Le;var ut="ScrollAreaCorner",zt=o.forwardRef((t,r)=>{const s=te(ut,t.__scopeScrollArea),a=!!(s.scrollbarX&&s.scrollbarY);return s.type!=="scroll"&&a?e.jsx($r,{...t,ref:r}):null});zt.displayName=ut;var $r=o.forwardRef((t,r)=>{const{__scopeScrollArea:s,...a}=t,n=te(ut,s),[i,c]=o.useState(0),[l,d]=o.useState(0),u=!!(i&&l);return Te(n.scrollbarX,()=>{var p;const m=((p=n.scrollbarX)==null?void 0:p.offsetHeight)||0;n.onCornerHeightChange(m),d(m)}),Te(n.scrollbarY,()=>{var p;const m=((p=n.scrollbarY)==null?void 0:p.offsetWidth)||0;n.onCornerWidthChange(m),c(m)}),u?e.jsx(W.div,{...a,ref:r,style:{width:i,height:l,position:"absolute",right:n.dir==="ltr"?0:void 0,left:n.dir==="rtl"?0:void 0,bottom:0,...t.style}}):null});function Oe(t){return t?parseInt(t,10):0}function Bt(t,r){const s=t/r;return isNaN(s)?0:s}function Ve(t){const r=Bt(t.viewport,t.content),s=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,a=(t.scrollbar.size-s)*r;return Math.max(a,18)}function qr(t,r,s,a="ltr"){const n=Ve(s),i=n/2,c=r||i,l=n-c,d=s.scrollbar.paddingStart+c,u=s.scrollbar.size-s.scrollbar.paddingEnd-l,m=s.content-s.viewport,p=a==="ltr"?[0,m]:[m*-1,0];return Wt([d,u],p)(t)}function xt(t,r,s="ltr"){const a=Ve(r),n=r.scrollbar.paddingStart+r.scrollbar.paddingEnd,i=r.scrollbar.size-n,c=r.content-r.viewport,l=i-a,d=s==="ltr"?[0,c]:[c*-1,0],u=qe(t,d);return Wt([0,c],[0,l])(u)}function Wt(t,r){return s=>{if(t[0]===t[1]||r[0]===r[1])return r[0];const a=(r[1]-r[0])/(t[1]-t[0]);return r[0]+a*(s-t[0])}}function Ut(t,r){return t>0&&t<r}var Yr=(t,r=()=>{})=>{let s={left:t.scrollLeft,top:t.scrollTop},a=0;return function n(){const i={left:t.scrollLeft,top:t.scrollTop},c=s.left!==i.left,l=s.top!==i.top;(c||l)&&r(),s=i,a=window.requestAnimationFrame(n)}(),()=>window.cancelAnimationFrame(a)};function He(t,r){const s=fe(t),a=o.useRef(0);return o.useEffect(()=>()=>window.clearTimeout(a.current),[]),o.useCallback(()=>{window.clearTimeout(a.current),a.current=window.setTimeout(s,r)},[s,r])}function Te(t,r){const s=fe(r);ue(()=>{let a=0;if(t){const n=new ResizeObserver(()=>{cancelAnimationFrame(a),a=window.requestAnimationFrame(s)});return n.observe(t),()=>{window.cancelAnimationFrame(a),n.unobserve(t)}}},[t,s])}var $t=kt,Xr=Ot,Kr=zt;const qt=o.forwardRef(({className:t,children:r,...s},a)=>e.jsxs($t,{ref:a,className:_("relative overflow-hidden",t),...s,children:[e.jsx(Xr,{className:"h-full w-full rounded-[inherit]",children:r}),e.jsx(Yt,{}),e.jsx(Kr,{})]}));qt.displayName=$t.displayName;const Yt=o.forwardRef(({className:t,orientation:r="vertical",...s},a)=>e.jsx(ct,{ref:a,orientation:r,className:_("flex touch-none select-none transition-colors",r==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",r==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",t),...s,children:e.jsx(Ht,{className:"relative flex-1 rounded-full bg-border"})}));Yt.displayName=ct.displayName;const Gr={pdf:Et,video:_t,document:ke,other:ke};function Zr({lectures:t,selectedLectureId:r,onSelectLecture:s}){const[a,n]=o.useState(new Set),i=l=>{const d=new Set(a);d.has(l)?d.delete(l):d.add(l),n(d),s(l)},c=l=>l?`${(l/(1024*1024)).toFixed(1)} MB`:"";return e.jsx(qt,{className:"h-[600px] pr-4",children:e.jsx("div",{className:"space-y-2",children:t.map(l=>{const d=a.has(l.id),u=r===l.id;return e.jsxs("div",{className:"space-y-1",children:[e.jsxs(M,{variant:u?"secondary":"ghost",className:"w-full justify-between text-right",onClick:()=>i(l.id),children:[e.jsx("span",{className:"flex items-center gap-2",children:d?e.jsx(lt,{className:"h-4 w-4"}):e.jsx(wr,{className:"h-4 w-4"})}),e.jsx("span",{className:"flex-1 text-right",children:l.title})]}),d&&l.materials.length>0&&e.jsx("div",{className:"mr-6 space-y-1",children:l.materials.map(m=>{const p=Gr[m.file_type];return e.jsx(M,{variant:"ghost",size:"sm",className:"w-full justify-end text-sm",asChild:!0,children:e.jsxs("a",{href:m.file_url,download:!0,className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-xs text-muted-foreground",children:c(m.file_size)}),e.jsx("span",{className:"flex-1 text-right truncate",children:m.title}),e.jsx(p,{className:"h-3 w-3 flex-shrink-0"})]})},m.id)})})]},l.id)})})})}const Jr={pdf:Et,video:_t,document:ke,other:ke};function Qr({lecture:t,isTeacher:r=!1,onEdit:s,onDelete:a}){if(!t)return e.jsx("div",{className:"flex items-center justify-center h-full text-muted-foreground",children:e.jsx("p",{children:"اختر محاضرة لعرض التفاصيل"})});const n=i=>i?`${(i/(1024*1024)).toFixed(1)} MB`:"";return e.jsxs(Tt,{children:[e.jsx(Dt,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex gap-2",children:[r&&s&&e.jsxs(M,{size:"sm",variant:"outline",onClick:()=>s(t),children:[e.jsx(Tr,{className:"h-4 w-4 ml-1"}),"تعديل"]}),r&&a&&e.jsxs(M,{size:"sm",variant:"destructive",onClick:()=>a(t.id),children:[e.jsx($e,{className:"h-4 w-4 ml-1"}),"حذف"]})]}),e.jsx(Pt,{className:"text-right",children:t.title})]})}),e.jsxs(At,{className:"space-y-6",children:[t.description&&e.jsxs("div",{className:"text-right",children:[e.jsx("h4",{className:"font-semibold mb-2",children:"الوصف"}),e.jsx("p",{className:"text-muted-foreground whitespace-pre-wrap",children:t.description})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold mb-4 text-right",children:"المواد التعليمية"}),t.materials.length>0?e.jsx("div",{className:"space-y-3",children:t.materials.map(i=>{const c=Jr[i.file_type];return e.jsxs("div",{className:"flex items-center justify-between p-4 rounded-lg border hover:bg-accent transition-colors",children:[e.jsx(M,{size:"sm",variant:"ghost",asChild:!0,children:e.jsx("a",{href:i.file_url,download:!0,children:e.jsx(Ir,{className:"h-4 w-4"})})}),e.jsxs("div",{className:"flex-1 text-right mx-4",children:[e.jsx("p",{className:"font-medium",children:i.title}),i.file_size&&e.jsx("p",{className:"text-sm text-muted-foreground",children:n(i.file_size)})]}),e.jsx(c,{className:"h-5 w-5 text-muted-foreground"})]},i.id)})}):e.jsx("p",{className:"text-center text-muted-foreground py-8",children:"لا توجد مواد تعليمية"})]})]})]})}const he=jt,Ie=Nt,eo=yt,Xt=o.forwardRef(({className:t,...r},s)=>e.jsx(st,{ref:s,className:_("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...r}));Xt.displayName=st.displayName;const ae=o.forwardRef(({className:t,children:r,...s},a)=>e.jsxs(eo,{children:[e.jsx(Xt,{}),e.jsxs(rt,{ref:a,className:_("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...s,children:[r,e.jsxs(ot,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[e.jsx(or,{className:"h-4 w-4"}),e.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));ae.displayName=rt.displayName;const le=({className:t,...r})=>e.jsx("div",{className:_("flex flex-col space-y-1.5 text-center sm:text-left",t),...r});le.displayName="DialogHeader";const ie=o.forwardRef(({className:t,...r},s)=>e.jsx(nt,{ref:s,className:_("text-lg font-semibold leading-none tracking-tight",t),...r}));ie.displayName=nt.displayName;const to=o.forwardRef(({className:t,...r},s)=>e.jsx(at,{ref:s,className:_("text-sm text-muted-foreground",t),...r}));to.displayName=at.displayName;const ce=o.forwardRef(({className:t,...r},s)=>e.jsx("textarea",{className:_("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:s,...r}));ce.displayName="Textarea";function so(t){const r=o.useRef({value:t,previous:t});return o.useMemo(()=>(r.current.value!==t&&(r.current.previous=r.current.value,r.current.value=t),r.current.previous),[t])}var ro=[" ","Enter","ArrowUp","ArrowDown"],oo=[" ","Enter"],Se="Select",[ze,Be,no]=nr(Se),[De,on]=et(Se,[no,wt]),We=wt(),[ao,ge]=De(Se),[lo,io]=De(Se),Kt=t=>{const{__scopeSelect:r,children:s,open:a,defaultOpen:n,onOpenChange:i,value:c,defaultValue:l,onValueChange:d,dir:u,name:m,autoComplete:p,disabled:f,required:b,form:N}=t,x=We(r),[v,y]=o.useState(null),[g,w]=o.useState(null),[F,V]=o.useState(!1),X=St(u),[O,H]=pt({prop:a,defaultProp:n??!1,onChange:i,caller:Se}),[C,k]=pt({prop:c,defaultProp:l,onChange:d,caller:Se}),I=o.useRef(null),K=v?N||!!v.closest("form"):!0,[U,J]=o.useState(new Set),$=Array.from(U).map(z=>z.props.value).join(";");return e.jsx(ur,{...x,children:e.jsxs(ao,{required:b,scope:r,trigger:v,onTriggerChange:y,valueNode:g,onValueNodeChange:w,valueNodeHasChildren:F,onValueNodeHasChildrenChange:V,contentId:tt(),value:C,onValueChange:k,open:O,onOpenChange:H,dir:X,triggerPointerDownPosRef:I,disabled:f,children:[e.jsx(ze.Provider,{scope:r,children:e.jsx(lo,{scope:t.__scopeSelect,onNativeOptionAdd:o.useCallback(z=>{J(L=>new Set(L).add(z))},[]),onNativeOptionRemove:o.useCallback(z=>{J(L=>{const Z=new Set(L);return Z.delete(z),Z})},[]),children:s})}),K?e.jsxs(ws,{"aria-hidden":!0,required:b,tabIndex:-1,name:m,autoComplete:p,value:C,onChange:z=>k(z.target.value),disabled:f,form:N,children:[C===void 0?e.jsx("option",{value:""}):null,Array.from(U)]},$):null]})})};Kt.displayName=Se;var Gt="SelectTrigger",Zt=o.forwardRef((t,r)=>{const{__scopeSelect:s,disabled:a=!1,...n}=t,i=We(s),c=ge(Gt,s),l=c.disabled||a,d=B(r,c.onTriggerChange),u=Be(s),m=o.useRef("touch"),[p,f,b]=Ss(x=>{const v=u().filter(w=>!w.disabled),y=v.find(w=>w.value===c.value),g=js(v,x,y);g!==void 0&&c.onValueChange(g.value)}),N=x=>{l||(c.onOpenChange(!0),b()),x&&(c.triggerPointerDownPosRef.current={x:Math.round(x.pageX),y:Math.round(x.pageY)})};return e.jsx(ar,{asChild:!0,...i,children:e.jsx(W.button,{type:"button",role:"combobox","aria-controls":c.contentId,"aria-expanded":c.open,"aria-required":c.required,"aria-autocomplete":"none",dir:c.dir,"data-state":c.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":bs(c.value)?"":void 0,...n,ref:d,onClick:A(n.onClick,x=>{x.currentTarget.focus(),m.current!=="mouse"&&N(x)}),onPointerDown:A(n.onPointerDown,x=>{m.current=x.pointerType;const v=x.target;v.hasPointerCapture(x.pointerId)&&v.releasePointerCapture(x.pointerId),x.button===0&&x.ctrlKey===!1&&x.pointerType==="mouse"&&(N(x),x.preventDefault())}),onKeyDown:A(n.onKeyDown,x=>{const v=p.current!=="";!(x.ctrlKey||x.altKey||x.metaKey)&&x.key.length===1&&f(x.key),!(v&&x.key===" ")&&ro.includes(x.key)&&(N(),x.preventDefault())})})})});Zt.displayName=Gt;var Jt="SelectValue",Qt=o.forwardRef((t,r)=>{const{__scopeSelect:s,className:a,style:n,children:i,placeholder:c="",...l}=t,d=ge(Jt,s),{onValueNodeHasChildrenChange:u}=d,m=i!==void 0,p=B(r,d.onValueNodeChange);return ue(()=>{u(m)},[u,m]),e.jsx(W.span,{...l,ref:p,style:{pointerEvents:"none"},children:bs(d.value)?e.jsx(e.Fragment,{children:c}):i})});Qt.displayName=Jt;var co="SelectIcon",es=o.forwardRef((t,r)=>{const{__scopeSelect:s,children:a,...n}=t;return e.jsx(W.span,{"aria-hidden":!0,...n,ref:r,children:a||"▼"})});es.displayName=co;var uo="SelectPortal",ts=t=>e.jsx(mr,{asChild:!0,...t});ts.displayName=uo;var je="SelectContent",ss=o.forwardRef((t,r)=>{const s=ge(je,t.__scopeSelect),[a,n]=o.useState();if(ue(()=>{n(new DocumentFragment)},[]),!s.open){const i=a;return i?bt.createPortal(e.jsx(rs,{scope:t.__scopeSelect,children:e.jsx(ze.Slot,{scope:t.__scopeSelect,children:e.jsx("div",{children:t.children})})}),i):null}return e.jsx(os,{...t,ref:r})});ss.displayName=je;var re=10,[rs,ve]=De(je),mo="SelectContentImpl",po=pr("SelectContent.RemoveScroll"),os=o.forwardRef((t,r)=>{const{__scopeSelect:s,position:a="item-aligned",onCloseAutoFocus:n,onEscapeKeyDown:i,onPointerDownOutside:c,side:l,sideOffset:d,align:u,alignOffset:m,arrowPadding:p,collisionBoundary:f,collisionPadding:b,sticky:N,hideWhenDetached:x,avoidCollisions:v,...y}=t,g=ge(je,s),[w,F]=o.useState(null),[V,X]=o.useState(null),O=B(r,S=>F(S)),[H,C]=o.useState(null),[k,I]=o.useState(null),K=Be(s),[U,J]=o.useState(!1),$=o.useRef(!1);o.useEffect(()=>{if(w)return br(w)},[w]),Sr();const z=o.useCallback(S=>{const[R,...q]=K().map(D=>D.ref.current),[P]=q.slice(-1),T=document.activeElement;for(const D of S)if(D===T||(D==null||D.scrollIntoView({block:"nearest"}),D===R&&V&&(V.scrollTop=0),D===P&&V&&(V.scrollTop=V.scrollHeight),D==null||D.focus(),document.activeElement!==T))return},[K,V]),L=o.useCallback(()=>z([H,w]),[z,H,w]);o.useEffect(()=>{U&&L()},[U,L]);const{onOpenChange:Z,triggerPointerDownPosRef:oe}=g;o.useEffect(()=>{if(w){let S={x:0,y:0};const R=P=>{var T,D;S={x:Math.abs(Math.round(P.pageX)-(((T=oe.current)==null?void 0:T.x)??0)),y:Math.abs(Math.round(P.pageY)-(((D=oe.current)==null?void 0:D.y)??0))}},q=P=>{S.x<=10&&S.y<=10?P.preventDefault():w.contains(P.target)||Z(!1),document.removeEventListener("pointermove",R),oe.current=null};return oe.current!==null&&(document.addEventListener("pointermove",R),document.addEventListener("pointerup",q,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",R),document.removeEventListener("pointerup",q,{capture:!0})}}},[w,Z,oe]),o.useEffect(()=>{const S=()=>Z(!1);return window.addEventListener("blur",S),window.addEventListener("resize",S),()=>{window.removeEventListener("blur",S),window.removeEventListener("resize",S)}},[Z]);const[we,Q]=Ss(S=>{const R=K().filter(T=>!T.disabled),q=R.find(T=>T.ref.current===document.activeElement),P=js(R,S,q);P&&setTimeout(()=>P.ref.current.focus())}),Ne=o.useCallback((S,R,q)=>{const P=!$.current&&!q;(g.value!==void 0&&g.value===R||P)&&(C(S),P&&($.current=!0))},[g.value]),Pe=o.useCallback(()=>w==null?void 0:w.focus(),[w]),pe=o.useCallback((S,R,q)=>{const P=!$.current&&!q;(g.value!==void 0&&g.value===R||P)&&I(S)},[g.value]),ye=a==="popper"?Ye:ns,be=ye===Ye?{side:l,sideOffset:d,align:u,alignOffset:m,arrowPadding:p,collisionBoundary:f,collisionPadding:b,sticky:N,hideWhenDetached:x,avoidCollisions:v}:{};return e.jsx(rs,{scope:s,content:w,viewport:V,onViewportChange:X,itemRefCallback:Ne,selectedItem:H,onItemLeave:Pe,itemTextRefCallback:pe,focusSelectedItem:L,selectedItemText:k,position:a,isPositioned:U,searchRef:we,children:e.jsx(jr,{as:po,allowPinchZoom:!0,children:e.jsx(Nr,{asChild:!0,trapped:g.open,onMountAutoFocus:S=>{S.preventDefault()},onUnmountAutoFocus:A(n,S=>{var R;(R=g.trigger)==null||R.focus({preventScroll:!0}),S.preventDefault()}),children:e.jsx(lr,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:c,onFocusOutside:S=>S.preventDefault(),onDismiss:()=>g.onOpenChange(!1),children:e.jsx(ye,{role:"listbox",id:g.contentId,"data-state":g.open?"open":"closed",dir:g.dir,onContextMenu:S=>S.preventDefault(),...y,...be,onPlaced:()=>J(!0),ref:O,style:{display:"flex",flexDirection:"column",outline:"none",...y.style},onKeyDown:A(y.onKeyDown,S=>{const R=S.ctrlKey||S.altKey||S.metaKey;if(S.key==="Tab"&&S.preventDefault(),!R&&S.key.length===1&&Q(S.key),["ArrowUp","ArrowDown","Home","End"].includes(S.key)){let P=K().filter(T=>!T.disabled).map(T=>T.ref.current);if(["ArrowUp","End"].includes(S.key)&&(P=P.slice().reverse()),["ArrowUp","ArrowDown"].includes(S.key)){const T=S.target,D=P.indexOf(T);P=P.slice(D+1)}setTimeout(()=>z(P)),S.preventDefault()}})})})})})})});os.displayName=mo;var ho="SelectItemAlignedPosition",ns=o.forwardRef((t,r)=>{const{__scopeSelect:s,onPlaced:a,...n}=t,i=ge(je,s),c=ve(je,s),[l,d]=o.useState(null),[u,m]=o.useState(null),p=B(r,O=>m(O)),f=Be(s),b=o.useRef(!1),N=o.useRef(!0),{viewport:x,selectedItem:v,selectedItemText:y,focusSelectedItem:g}=c,w=o.useCallback(()=>{if(i.trigger&&i.valueNode&&l&&u&&x&&v&&y){const O=i.trigger.getBoundingClientRect(),H=u.getBoundingClientRect(),C=i.valueNode.getBoundingClientRect(),k=y.getBoundingClientRect();if(i.dir!=="rtl"){const T=k.left-H.left,D=C.left-T,se=O.left-D,h=O.width+se,j=Math.max(h,H.width),Y=window.innerWidth-re,Ue=qe(D,[re,Math.max(re,Y-j)]);l.style.minWidth=h+"px",l.style.left=Ue+"px"}else{const T=H.right-k.right,D=window.innerWidth-C.right-T,se=window.innerWidth-O.right-D,h=O.width+se,j=Math.max(h,H.width),Y=window.innerWidth-re,Ue=qe(D,[re,Math.max(re,Y-j)]);l.style.minWidth=h+"px",l.style.right=Ue+"px"}const I=f(),K=window.innerHeight-re*2,U=x.scrollHeight,J=window.getComputedStyle(u),$=parseInt(J.borderTopWidth,10),z=parseInt(J.paddingTop,10),L=parseInt(J.borderBottomWidth,10),Z=parseInt(J.paddingBottom,10),oe=$+z+U+Z+L,we=Math.min(v.offsetHeight*5,oe),Q=window.getComputedStyle(x),Ne=parseInt(Q.paddingTop,10),Pe=parseInt(Q.paddingBottom,10),pe=O.top+O.height/2-re,ye=K-pe,be=v.offsetHeight/2,S=v.offsetTop+be,R=$+z+S,q=oe-R;if(R<=pe){const T=I.length>0&&v===I[I.length-1].ref.current;l.style.bottom="0px";const D=u.clientHeight-x.offsetTop-x.offsetHeight,se=Math.max(ye,be+(T?Pe:0)+D+L),h=R+se;l.style.height=h+"px"}else{const T=I.length>0&&v===I[0].ref.current;l.style.top="0px";const se=Math.max(pe,$+x.offsetTop+(T?Ne:0)+be)+q;l.style.height=se+"px",x.scrollTop=R-pe+x.offsetTop}l.style.margin=`${re}px 0`,l.style.minHeight=we+"px",l.style.maxHeight=K+"px",a==null||a(),requestAnimationFrame(()=>b.current=!0)}},[f,i.trigger,i.valueNode,l,u,x,v,y,i.dir,a]);ue(()=>w(),[w]);const[F,V]=o.useState();ue(()=>{u&&V(window.getComputedStyle(u).zIndex)},[u]);const X=o.useCallback(O=>{O&&N.current===!0&&(w(),g==null||g(),N.current=!1)},[w,g]);return e.jsx(xo,{scope:s,contentWrapper:l,shouldExpandOnScrollRef:b,onScrollButtonChange:X,children:e.jsx("div",{ref:d,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:F},children:e.jsx(W.div,{...n,ref:p,style:{boxSizing:"border-box",maxHeight:"100%",...n.style}})})})});ns.displayName=ho;var fo="SelectPopperPosition",Ye=o.forwardRef((t,r)=>{const{__scopeSelect:s,align:a="start",collisionPadding:n=re,...i}=t,c=We(s);return e.jsx(ir,{...c,...i,ref:r,align:a,collisionPadding:n,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Ye.displayName=fo;var[xo,mt]=De(je,{}),Xe="SelectViewport",as=o.forwardRef((t,r)=>{const{__scopeSelect:s,nonce:a,...n}=t,i=ve(Xe,s),c=mt(Xe,s),l=B(r,i.onViewportChange),d=o.useRef(0);return e.jsxs(e.Fragment,{children:[e.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:a}),e.jsx(ze.Slot,{scope:s,children:e.jsx(W.div,{"data-radix-select-viewport":"",role:"presentation",...n,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...n.style},onScroll:A(n.onScroll,u=>{const m=u.currentTarget,{contentWrapper:p,shouldExpandOnScrollRef:f}=c;if(f!=null&&f.current&&p){const b=Math.abs(d.current-m.scrollTop);if(b>0){const N=window.innerHeight-re*2,x=parseFloat(p.style.minHeight),v=parseFloat(p.style.height),y=Math.max(x,v);if(y<N){const g=y+b,w=Math.min(N,g),F=g-w;p.style.height=w+"px",p.style.bottom==="0px"&&(m.scrollTop=F>0?F:0,p.style.justifyContent="flex-end")}}}d.current=m.scrollTop})})})]})});as.displayName=Xe;var ls="SelectGroup",[go,vo]=De(ls),wo=o.forwardRef((t,r)=>{const{__scopeSelect:s,...a}=t,n=tt();return e.jsx(go,{scope:s,id:n,children:e.jsx(W.div,{role:"group","aria-labelledby":n,...a,ref:r})})});wo.displayName=ls;var is="SelectLabel",cs=o.forwardRef((t,r)=>{const{__scopeSelect:s,...a}=t,n=vo(is,s);return e.jsx(W.div,{id:n.id,...a,ref:r})});cs.displayName=is;var Me="SelectItem",[bo,ds]=De(Me),us=o.forwardRef((t,r)=>{const{__scopeSelect:s,value:a,disabled:n=!1,textValue:i,...c}=t,l=ge(Me,s),d=ve(Me,s),u=l.value===a,[m,p]=o.useState(i??""),[f,b]=o.useState(!1),N=B(r,g=>{var w;return(w=d.itemRefCallback)==null?void 0:w.call(d,g,a,n)}),x=tt(),v=o.useRef("touch"),y=()=>{n||(l.onValueChange(a),l.onOpenChange(!1))};if(a==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return e.jsx(bo,{scope:s,value:a,disabled:n,textId:x,isSelected:u,onItemTextChange:o.useCallback(g=>{p(w=>w||((g==null?void 0:g.textContent)??"").trim())},[]),children:e.jsx(ze.ItemSlot,{scope:s,value:a,disabled:n,textValue:m,children:e.jsx(W.div,{role:"option","aria-labelledby":x,"data-highlighted":f?"":void 0,"aria-selected":u&&f,"data-state":u?"checked":"unchecked","aria-disabled":n||void 0,"data-disabled":n?"":void 0,tabIndex:n?void 0:-1,...c,ref:N,onFocus:A(c.onFocus,()=>b(!0)),onBlur:A(c.onBlur,()=>b(!1)),onClick:A(c.onClick,()=>{v.current!=="mouse"&&y()}),onPointerUp:A(c.onPointerUp,()=>{v.current==="mouse"&&y()}),onPointerDown:A(c.onPointerDown,g=>{v.current=g.pointerType}),onPointerMove:A(c.onPointerMove,g=>{var w;v.current=g.pointerType,n?(w=d.onItemLeave)==null||w.call(d):v.current==="mouse"&&g.currentTarget.focus({preventScroll:!0})}),onPointerLeave:A(c.onPointerLeave,g=>{var w;g.currentTarget===document.activeElement&&((w=d.onItemLeave)==null||w.call(d))}),onKeyDown:A(c.onKeyDown,g=>{var F;((F=d.searchRef)==null?void 0:F.current)!==""&&g.key===" "||(oo.includes(g.key)&&y(),g.key===" "&&g.preventDefault())})})})})});us.displayName=Me;var Ae="SelectItemText",ms=o.forwardRef((t,r)=>{const{__scopeSelect:s,className:a,style:n,...i}=t,c=ge(Ae,s),l=ve(Ae,s),d=ds(Ae,s),u=io(Ae,s),[m,p]=o.useState(null),f=B(r,y=>p(y),d.onItemTextChange,y=>{var g;return(g=l.itemTextRefCallback)==null?void 0:g.call(l,y,d.value,d.disabled)}),b=m==null?void 0:m.textContent,N=o.useMemo(()=>e.jsx("option",{value:d.value,disabled:d.disabled,children:b},d.value),[d.disabled,d.value,b]),{onNativeOptionAdd:x,onNativeOptionRemove:v}=u;return ue(()=>(x(N),()=>v(N)),[x,v,N]),e.jsxs(e.Fragment,{children:[e.jsx(W.span,{id:d.textId,...i,ref:f}),d.isSelected&&c.valueNode&&!c.valueNodeHasChildren?bt.createPortal(i.children,c.valueNode):null]})});ms.displayName=Ae;var ps="SelectItemIndicator",hs=o.forwardRef((t,r)=>{const{__scopeSelect:s,...a}=t;return ds(ps,s).isSelected?e.jsx(W.span,{"aria-hidden":!0,...a,ref:r}):null});hs.displayName=ps;var Ke="SelectScrollUpButton",fs=o.forwardRef((t,r)=>{const s=ve(Ke,t.__scopeSelect),a=mt(Ke,t.__scopeSelect),[n,i]=o.useState(!1),c=B(r,a.onScrollButtonChange);return ue(()=>{if(s.viewport&&s.isPositioned){let l=function(){const u=d.scrollTop>0;i(u)};const d=s.viewport;return l(),d.addEventListener("scroll",l),()=>d.removeEventListener("scroll",l)}},[s.viewport,s.isPositioned]),n?e.jsx(gs,{...t,ref:c,onAutoScroll:()=>{const{viewport:l,selectedItem:d}=s;l&&d&&(l.scrollTop=l.scrollTop-d.offsetHeight)}}):null});fs.displayName=Ke;var Ge="SelectScrollDownButton",xs=o.forwardRef((t,r)=>{const s=ve(Ge,t.__scopeSelect),a=mt(Ge,t.__scopeSelect),[n,i]=o.useState(!1),c=B(r,a.onScrollButtonChange);return ue(()=>{if(s.viewport&&s.isPositioned){let l=function(){const u=d.scrollHeight-d.clientHeight,m=Math.ceil(d.scrollTop)<u;i(m)};const d=s.viewport;return l(),d.addEventListener("scroll",l),()=>d.removeEventListener("scroll",l)}},[s.viewport,s.isPositioned]),n?e.jsx(gs,{...t,ref:c,onAutoScroll:()=>{const{viewport:l,selectedItem:d}=s;l&&d&&(l.scrollTop=l.scrollTop+d.offsetHeight)}}):null});xs.displayName=Ge;var gs=o.forwardRef((t,r)=>{const{__scopeSelect:s,onAutoScroll:a,...n}=t,i=ve("SelectScrollButton",s),c=o.useRef(null),l=Be(s),d=o.useCallback(()=>{c.current!==null&&(window.clearInterval(c.current),c.current=null)},[]);return o.useEffect(()=>()=>d(),[d]),ue(()=>{var m;const u=l().find(p=>p.ref.current===document.activeElement);(m=u==null?void 0:u.ref.current)==null||m.scrollIntoView({block:"nearest"})},[l]),e.jsx(W.div,{"aria-hidden":!0,...n,ref:r,style:{flexShrink:0,...n.style},onPointerDown:A(n.onPointerDown,()=>{c.current===null&&(c.current=window.setInterval(a,50))}),onPointerMove:A(n.onPointerMove,()=>{var u;(u=i.onItemLeave)==null||u.call(i),c.current===null&&(c.current=window.setInterval(a,50))}),onPointerLeave:A(n.onPointerLeave,()=>{d()})})}),So="SelectSeparator",vs=o.forwardRef((t,r)=>{const{__scopeSelect:s,...a}=t;return e.jsx(W.div,{"aria-hidden":!0,...a,ref:r})});vs.displayName=So;var Ze="SelectArrow",jo=o.forwardRef((t,r)=>{const{__scopeSelect:s,...a}=t,n=We(s),i=ge(Ze,s),c=ve(Ze,s);return i.open&&c.position==="popper"?e.jsx(cr,{...n,...a,ref:r}):null});jo.displayName=Ze;var No="SelectBubbleInput",ws=o.forwardRef(({__scopeSelect:t,value:r,...s},a)=>{const n=o.useRef(null),i=B(a,n),c=so(r);return o.useEffect(()=>{const l=n.current;if(!l)return;const d=window.HTMLSelectElement.prototype,m=Object.getOwnPropertyDescriptor(d,"value").set;if(c!==r&&m){const p=new Event("change",{bubbles:!0});m.call(l,r),l.dispatchEvent(p)}},[c,r]),e.jsx(W.select,{...s,style:{...dr,...s.style},ref:i,defaultValue:r})});ws.displayName=No;function bs(t){return t===""||t===void 0}function Ss(t){const r=fe(t),s=o.useRef(""),a=o.useRef(0),n=o.useCallback(c=>{const l=s.current+c;r(l),function d(u){s.current=u,window.clearTimeout(a.current),u!==""&&(a.current=window.setTimeout(()=>d(""),1e3))}(l)},[r]),i=o.useCallback(()=>{s.current="",window.clearTimeout(a.current)},[]);return o.useEffect(()=>()=>window.clearTimeout(a.current),[]),[s,n,i]}function js(t,r,s){const n=r.length>1&&Array.from(r).every(u=>u===r[0])?r[0]:r,i=s?t.indexOf(s):-1;let c=yo(t,Math.max(i,0));n.length===1&&(c=c.filter(u=>u!==s));const d=c.find(u=>u.textValue.toLowerCase().startsWith(n.toLowerCase()));return d!==s?d:void 0}function yo(t,r){return t.map((s,a)=>t[(r+a)%t.length])}var Co=Kt,Ns=Zt,To=Qt,Do=es,Po=ts,ys=ss,Ao=as,Cs=cs,Ts=us,Ro=ms,Eo=hs,Ds=fs,Ps=xs,As=vs;const gt=Co,vt=To,Je=o.forwardRef(({className:t,children:r,...s},a)=>e.jsxs(Ns,{ref:a,className:_("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...s,children:[r,e.jsx(Do,{asChild:!0,children:e.jsx(lt,{className:"h-4 w-4 opacity-50"})})]}));Je.displayName=Ns.displayName;const Rs=o.forwardRef(({className:t,...r},s)=>e.jsx(Ds,{ref:s,className:_("flex cursor-default items-center justify-center py-1",t),...r,children:e.jsx(Er,{className:"h-4 w-4"})}));Rs.displayName=Ds.displayName;const Es=o.forwardRef(({className:t,...r},s)=>e.jsx(Ps,{ref:s,className:_("flex cursor-default items-center justify-center py-1",t),...r,children:e.jsx(lt,{className:"h-4 w-4"})}));Es.displayName=Ps.displayName;const Qe=o.forwardRef(({className:t,children:r,position:s="popper",...a},n)=>e.jsx(Po,{children:e.jsxs(ys,{ref:n,className:_("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",s==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:s,...a,children:[e.jsx(Rs,{}),e.jsx(Ao,{className:_("p-1",s==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:r}),e.jsx(Es,{})]})}));Qe.displayName=ys.displayName;const _o=o.forwardRef(({className:t,...r},s)=>e.jsx(Cs,{ref:s,className:_("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...r}));_o.displayName=Cs.displayName;const de=o.forwardRef(({className:t,children:r,...s},a)=>e.jsxs(Ts,{ref:a,className:_("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...s,children:[e.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:e.jsx(Eo,{children:e.jsx(yr,{className:"h-4 w-4"})})}),e.jsx(Ro,{children:r})]}));de.displayName=Ts.displayName;const Io=o.forwardRef(({className:t,...r},s)=>e.jsx(As,{ref:s,className:_("-mx-1 my-1 h-px bg-muted",t),...r}));Io.displayName=As.displayName;var _s="AlertDialog",[ko,nn]=et(_s,[Ct]),me=Ct(),Is=t=>{const{__scopeAlertDialog:r,...s}=t,a=me(r);return e.jsx(jt,{...a,...s,modal:!0})};Is.displayName=_s;var Lo="AlertDialogTrigger",Oo=o.forwardRef((t,r)=>{const{__scopeAlertDialog:s,...a}=t,n=me(s);return e.jsx(Nt,{...n,...a,ref:r})});Oo.displayName=Lo;var Mo="AlertDialogPortal",ks=t=>{const{__scopeAlertDialog:r,...s}=t,a=me(r);return e.jsx(yt,{...a,...s})};ks.displayName=Mo;var Fo="AlertDialogOverlay",Ls=o.forwardRef((t,r)=>{const{__scopeAlertDialog:s,...a}=t,n=me(s);return e.jsx(st,{...n,...a,ref:r})});Ls.displayName=Fo;var Ce="AlertDialogContent",[Vo,Ho]=ko(Ce),zo=hr("AlertDialogContent"),Os=o.forwardRef((t,r)=>{const{__scopeAlertDialog:s,children:a,...n}=t,i=me(s),c=o.useRef(null),l=B(r,c),d=o.useRef(null);return e.jsx(Cr,{contentName:Ce,titleName:Ms,docsSlug:"alert-dialog",children:e.jsx(Vo,{scope:s,cancelRef:d,children:e.jsxs(rt,{role:"alertdialog",...i,...n,ref:l,onOpenAutoFocus:A(n.onOpenAutoFocus,u=>{var m;u.preventDefault(),(m=d.current)==null||m.focus({preventScroll:!0})}),onPointerDownOutside:u=>u.preventDefault(),onInteractOutside:u=>u.preventDefault(),children:[e.jsx(zo,{children:a}),e.jsx(Wo,{contentRef:c})]})})})});Os.displayName=Ce;var Ms="AlertDialogTitle",Fs=o.forwardRef((t,r)=>{const{__scopeAlertDialog:s,...a}=t,n=me(s);return e.jsx(nt,{...n,...a,ref:r})});Fs.displayName=Ms;var Vs="AlertDialogDescription",Hs=o.forwardRef((t,r)=>{const{__scopeAlertDialog:s,...a}=t,n=me(s);return e.jsx(at,{...n,...a,ref:r})});Hs.displayName=Vs;var Bo="AlertDialogAction",zs=o.forwardRef((t,r)=>{const{__scopeAlertDialog:s,...a}=t,n=me(s);return e.jsx(ot,{...n,...a,ref:r})});zs.displayName=Bo;var Bs="AlertDialogCancel",Ws=o.forwardRef((t,r)=>{const{__scopeAlertDialog:s,...a}=t,{cancelRef:n}=Ho(Bs,s),i=me(s),c=B(r,n);return e.jsx(ot,{...i,...a,ref:c})});Ws.displayName=Bs;var Wo=({contentRef:t})=>{const r=`\`${Ce}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${Ce}\` by passing a \`${Vs}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${Ce}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return o.useEffect(()=>{var a;document.getElementById((a=t.current)==null?void 0:a.getAttribute("aria-describedby"))||console.warn(r)},[r,t]),null},Uo=Is,$o=ks,Us=Ls,$s=Os,qs=zs,Ys=Ws,Xs=Fs,Ks=Hs;const qo=Uo,Yo=$o,Gs=o.forwardRef(({className:t,...r},s)=>e.jsx(Us,{className:_("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...r,ref:s}));Gs.displayName=Us.displayName;const Zs=o.forwardRef(({className:t,...r},s)=>e.jsxs(Yo,{children:[e.jsx(Gs,{}),e.jsx($s,{ref:s,className:_("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...r})]}));Zs.displayName=$s.displayName;const Js=({className:t,...r})=>e.jsx("div",{className:_("flex flex-col space-y-2 text-center sm:text-left",t),...r});Js.displayName="AlertDialogHeader";const Qs=({className:t,...r})=>e.jsx("div",{className:_("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...r});Qs.displayName="AlertDialogFooter";const er=o.forwardRef(({className:t,...r},s)=>e.jsx(Xs,{ref:s,className:_("text-lg font-semibold",t),...r}));er.displayName=Xs.displayName;const tr=o.forwardRef(({className:t,...r},s)=>e.jsx(Ks,{ref:s,className:_("text-sm text-muted-foreground",t),...r}));tr.displayName=Ks.displayName;const sr=o.forwardRef(({className:t,...r},s)=>e.jsx(qs,{ref:s,className:_(Rt(),t),...r}));sr.displayName=qs.displayName;const rr=o.forwardRef(({className:t,...r},s)=>e.jsx(Ys,{ref:s,className:_(Rt({variant:"outline"}),"mt-2 sm:mt-0",t),...r}));rr.displayName=Ys.displayName;function an(){const{courseId:t}=fr(),{user:r}=xr(),s=(r==null?void 0:r.role)==="teacher",{courseData:a,addAnnouncement:n,updateAnnouncement:i,deleteAnnouncement:c,addLecture:l,updateLecture:d,deleteLecture:u,addEvent:m,updateEvent:p,deleteEvent:f,addAssignment:b,updateAssignment:N,deleteAssignment:x}=gr(),v=a[Number(t)],[y,g]=o.useState(),[w,F]=o.useState(!1),[V,X]=o.useState(!1),[O,H]=o.useState(!1),[C,k]=o.useState(!1),[I,K]=o.useState(null),[U,J]=o.useState(null),[$,z]=o.useState(null),[L,Z]=o.useState(null),[oe,we]=o.useState(!1),[Q,Ne]=o.useState(null);if(!v)return e.jsx(ht,{title:"المقرر غير موجود",children:e.jsx("div",{className:"text-center py-12",children:e.jsx("h1",{className:"text-2xl font-bold text-muted-foreground",children:"المقرر غير موجود"})})});const Pe=v.lectures.find(h=>h.id===y),pe=h=>{h.preventDefault();const j=new FormData(h.currentTarget);n(Number(t),{title:j.get("title"),content:j.get("content"),authorName:(r==null?void 0:r.name)||"المعلم",createdAt:new Date().toISOString()}),ee.success("تم إنشاء الإعلان بنجاح"),F(!1),h.currentTarget.reset()},ye=h=>{if(h.preventDefault(),!I)return;const j=new FormData(h.currentTarget);i(Number(t),I.id,{title:j.get("title"),content:j.get("content")}),ee.success("تم تحديث الإعلان بنجاح"),K(null)},be=h=>{h.preventDefault();const j=new FormData(h.currentTarget);m(Number(t),{title:j.get("title"),description:j.get("description"),event_type:j.get("event_type"),due_date:new Date(j.get("due_date")).toISOString()}),ee.success("تم إنشاء الحدث بنجاح"),X(!1),h.currentTarget.reset()},S=h=>{if(h.preventDefault(),!U)return;const j=new FormData(h.currentTarget);p(Number(t),U.id,{title:j.get("title"),description:j.get("description"),event_type:j.get("event_type"),due_date:new Date(j.get("due_date")).toISOString()}),ee.success("تم تحديث الحدث بنجاح"),J(null)},R=h=>{h.preventDefault();const j=new FormData(h.currentTarget);l(Number(t),{title:j.get("title"),description:j.get("description"),materials:[]}),ee.success("تم إنشاء المحاضرة بنجاح"),H(!1),h.currentTarget.reset()},q=h=>{if(h.preventDefault(),!$)return;const j=new FormData(h.currentTarget);d(Number(t),$.id,{title:j.get("title"),description:j.get("description")}),ee.success("تم تحديث المحاضرة بنجاح"),z(null)},P=h=>{h.preventDefault();const j=new FormData(h.currentTarget),Y=j.get("file");b(Number(t),{title:j.get("title"),description:j.get("description"),hasFile:Y&&Y.size>0,fileName:Y==null?void 0:Y.name,dueDate:new Date(j.get("dueDate")).toISOString()}),ee.success("تم إنشاء الواجب بنجاح"),k(!1),h.currentTarget.reset()},T=h=>{if(h.preventDefault(),!L)return;const j=new FormData(h.currentTarget),Y=j.get("file");N(Number(t),L.id,{title:j.get("title"),description:j.get("description"),hasFile:Y&&Y.size>0?!0:L.hasFile,fileName:Y&&Y.size>0?Y.name:L.fileName,dueDate:new Date(j.get("dueDate")).toISOString()}),ee.success("تم تحديث الواجب بنجاح"),Z(null)},D=()=>{if(Q){switch(Q.type){case"announcement":c(Number(t),Q.id),ee.success("تم حذف الإعلان");break;case"event":f(Number(t),Q.id),ee.success("تم حذف الحدث");break;case"lecture":u(Number(t),Q.id),ee.success("تم حذف المحاضرة"),y===Q.id&&g(void 0);break;case"assignment":x(Number(t),Q.id),ee.success("تم حذف الواجب");break}we(!1),Ne(null)}},se=(h,j)=>{Ne({type:h,id:j}),we(!0)};return e.jsxs(ht,{title:v.name,children:[e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"text-right",children:[e.jsx("h1",{className:"text-3xl font-extrabold",children:v.name}),e.jsx("p",{className:"text-muted-foreground",children:v.code})]}),e.jsxs(Dr,{defaultValue:"home",className:"w-full",dir:"rtl",children:[e.jsx("div",{className:"bg-secondary rounded-lg p-2 mb-6",children:e.jsxs(Pr,{className:"w-full justify-start bg-transparent",children:[e.jsx(Re,{value:"home",className:"flex-1",children:"الرئيسية"}),e.jsx(Re,{value:"content",className:"flex-1",children:"المحتوى"}),e.jsx(Re,{value:"assignments",className:"flex-1",children:"الواجبات"}),e.jsx(Re,{value:"help",className:"flex-1",children:"المساعدة"})]})}),e.jsx(Ee,{value:"home",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"lg:col-span-2 space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[s&&e.jsxs(he,{open:w,onOpenChange:F,children:[e.jsx(Ie,{asChild:!0,children:e.jsxs(M,{children:[e.jsx(_e,{className:"h-4 w-4 ml-2"}),"إعلان جديد"]})}),e.jsxs(ae,{children:[e.jsx(le,{children:e.jsx(ie,{className:"text-right",children:"إعلان جديد"})}),e.jsxs("form",{onSubmit:pe,className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(E,{htmlFor:"title",className:"text-right block",children:"العنوان"}),e.jsx(G,{id:"title",name:"title",required:!0,className:"text-right"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(E,{htmlFor:"content",className:"text-right block",children:"المحتوى"}),e.jsx(ce,{id:"content",name:"content",required:!0,className:"text-right",rows:4})]}),e.jsx(M,{type:"submit",className:"w-full",children:"نشر"})]})]})]}),e.jsx("h2",{className:"text-2xl font-bold text-right",children:"إعلانات المقرر"})]}),v.announcements.length>0?v.announcements.map(h=>e.jsxs("div",{className:"relative group",children:[e.jsx(Ar,{title:h.title,content:h.content,authorName:h.authorName,createdAt:h.createdAt}),s&&e.jsxs("div",{className:"absolute top-2 left-2 opacity-0 group-hover:opacity-100 transition-opacity flex gap-2",children:[e.jsx(M,{size:"sm",variant:"outline",onClick:()=>K(h),children:e.jsx(ft,{className:"h-3 w-3"})}),e.jsx(M,{size:"sm",variant:"destructive",onClick:()=>se("announcement",h.id),children:e.jsx($e,{className:"h-3 w-3"})})]})]},h.id)):e.jsx("div",{className:"text-center py-12 text-muted-foreground",children:"لا توجد إعلانات حالياً"})]}),e.jsxs("div",{className:"lg:col-span-1 space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[s&&e.jsxs(he,{open:V,onOpenChange:X,children:[e.jsx(Ie,{asChild:!0,children:e.jsxs(M,{size:"sm",children:[e.jsx(_e,{className:"h-3 w-3 ml-1"}),"حدث"]})}),e.jsxs(ae,{children:[e.jsx(le,{children:e.jsx(ie,{className:"text-right",children:"حدث جديد"})}),e.jsxs("form",{onSubmit:be,className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(E,{htmlFor:"event-title",className:"text-right block",children:"العنوان"}),e.jsx(G,{id:"event-title",name:"title",required:!0,className:"text-right"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(E,{htmlFor:"event-description",className:"text-right block",children:"الوصف"}),e.jsx(ce,{id:"event-description",name:"description",className:"text-right",rows:3})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(E,{htmlFor:"event-type",className:"text-right block",children:"النوع"}),e.jsxs(gt,{name:"event_type",required:!0,children:[e.jsx(Je,{children:e.jsx(vt,{placeholder:"اختر النوع"})}),e.jsxs(Qe,{children:[e.jsx(de,{value:"assignment",children:"واجب"}),e.jsx(de,{value:"quiz",children:"اختبار قصير"}),e.jsx(de,{value:"exam",children:"امتحان"}),e.jsx(de,{value:"other",children:"أخرى"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(E,{htmlFor:"due-date",className:"text-right block",children:"تاريخ الاستحقاق"}),e.jsx(G,{id:"due-date",name:"due_date",type:"datetime-local",required:!0})]}),e.jsx(M,{type:"submit",className:"w-full",children:"إنشاء"})]})]})]}),e.jsx("h3",{className:"text-lg font-bold text-right",children:"الأحداث"})]}),e.jsx(Or,{events:v.events})]})]})}),e.jsx(Ee,{value:"content",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6",children:[e.jsxs("div",{className:"lg:col-span-1 space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[s&&e.jsxs(he,{open:O,onOpenChange:H,children:[e.jsx(Ie,{asChild:!0,children:e.jsxs(M,{size:"sm",children:[e.jsx(_e,{className:"h-3 w-3 ml-1"}),"محاضرة"]})}),e.jsxs(ae,{className:"max-w-2xl",children:[e.jsx(le,{children:e.jsx(ie,{className:"text-right",children:"محاضرة جديدة"})}),e.jsxs("form",{onSubmit:R,className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(E,{htmlFor:"lecture-title",className:"text-right block",children:"العنوان"}),e.jsx(G,{id:"lecture-title",name:"title",required:!0,className:"text-right"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(E,{htmlFor:"lecture-desc",className:"text-right block",children:"الوصف"}),e.jsx(ce,{id:"lecture-desc",name:"description",className:"text-right",rows:3,placeholder:"يمكنك إضافة روابط في الوصف"})]}),e.jsx(M,{type:"submit",className:"w-full",children:"إنشاء المحاضرة"})]})]})]}),e.jsx("h3",{className:"text-lg font-bold text-right",children:"المحاضرات"})]}),e.jsx(Zr,{lectures:v.lectures,selectedLectureId:y,onSelectLecture:g})]}),e.jsx("div",{className:"lg:col-span-3",children:e.jsx(Qr,{lecture:Pe||null,isTeacher:s,onEdit:s?h=>z(h):void 0,onDelete:s?h=>se("lecture",h):void 0})})]})}),e.jsx(Ee,{value:"assignments",children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[s&&e.jsxs(he,{open:C,onOpenChange:k,children:[e.jsx(Ie,{asChild:!0,children:e.jsxs(M,{children:[e.jsx(_e,{className:"h-4 w-4 ml-2"}),"واجب جديد"]})}),e.jsxs(ae,{className:"max-w-2xl",children:[e.jsx(le,{children:e.jsx(ie,{className:"text-right",children:"إنشاء واجب جديد"})}),e.jsxs("form",{onSubmit:P,className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(E,{htmlFor:"assignment-title",className:"text-right block",children:"عنوان الواجب"}),e.jsx(G,{id:"assignment-title",name:"title",required:!0,className:"text-right"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(E,{htmlFor:"assignment-desc",className:"text-right block",children:"وصف الواجب"}),e.jsx(ce,{id:"assignment-desc",name:"description",required:!0,className:"text-right",rows:4})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(E,{htmlFor:"assignment-due",className:"text-right block",children:"تاريخ التسليم"}),e.jsx(G,{id:"assignment-due",name:"dueDate",type:"datetime-local",required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(E,{htmlFor:"assignment-file",className:"text-right block",children:"ملف الواجب (PDF) - اختياري"}),e.jsx(G,{id:"assignment-file",name:"file",type:"file",accept:".pdf",className:"text-right"})]}),e.jsx(M,{type:"submit",className:"w-full",children:"إنشاء الواجب"})]})]})]}),e.jsx("h2",{className:"text-2xl font-bold text-right",children:"الواجبات"})]}),e.jsx("div",{className:"grid gap-4",children:v.assignments&&v.assignments.length>0?v.assignments.map(h=>e.jsxs("div",{className:"border rounded-lg p-6 text-right space-y-4 hover:bg-slate-50 transition-colors relative group",children:[e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{className:"text-left text-sm text-muted-foreground",children:["تاريخ الاستحقاق: ",new Date(h.dueDate).toLocaleDateString("ar-EG")]}),e.jsx("div",{children:e.jsx("h3",{className:"font-bold text-xl",children:h.title})})]}),e.jsx("p",{className:"text-muted-foreground",children:h.description}),h.hasFile&&e.jsxs("div",{className:"inline-flex items-center text-blue-600 bg-blue-50 px-3 py-1 rounded-md text-sm",children:[e.jsx("span",{className:"mr-2",children:h.fileName}),e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-file-text ml-1",children:[e.jsx("path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z"}),e.jsx("path",{d:"M14 2v4h4"})]})]}),s&&e.jsxs("div",{className:"absolute top-2 left-2 opacity-0 group-hover:opacity-100 transition-opacity flex gap-2",children:[e.jsx(M,{size:"sm",variant:"outline",onClick:()=>Z(h),children:e.jsx(ft,{className:"h-3 w-3"})}),e.jsx(M,{size:"sm",variant:"destructive",onClick:()=>se("assignment",h.id),children:e.jsx($e,{className:"h-3 w-3"})})]})]},h.id)):e.jsx("div",{className:"text-center py-12 text-muted-foreground",children:"لا توجد واجبات حالياً"})})]})}),e.jsx(Ee,{value:"help",children:e.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[e.jsx("h3",{className:"text-xl font-semibold mb-2",children:"المساعدة"}),e.jsx("p",{children:"سيتم إضافة قسم المساعدة قريباً"})]})})]})]}),U&&e.jsx(he,{open:!!U,onOpenChange:()=>J(null),children:e.jsxs(ae,{children:[e.jsx(le,{children:e.jsx(ie,{className:"text-right",children:"تعديل الحدث"})}),e.jsxs("form",{onSubmit:S,className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(E,{htmlFor:"edit-event-title",className:"text-right block",children:"العنوان"}),e.jsx(G,{id:"edit-event-title",name:"title",defaultValue:U.title,required:!0,className:"text-right"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(E,{htmlFor:"edit-event-description",className:"text-right block",children:"الوصف"}),e.jsx(ce,{id:"edit-event-description",name:"description",defaultValue:U.description,className:"text-right",rows:3})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(E,{htmlFor:"edit-event-type",className:"text-right block",children:"النوع"}),e.jsxs(gt,{name:"event_type",defaultValue:U.event_type,required:!0,children:[e.jsx(Je,{children:e.jsx(vt,{placeholder:"اختر النوع"})}),e.jsxs(Qe,{children:[e.jsx(de,{value:"assignment",children:"واجب"}),e.jsx(de,{value:"quiz",children:"اختبار قصير"}),e.jsx(de,{value:"exam",children:"امتحان"}),e.jsx(de,{value:"other",children:"أخرى"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(E,{htmlFor:"edit-due-date",className:"text-right block",children:"تاريخ الاستحقاق"}),e.jsx(G,{id:"edit-due-date",name:"due_date",type:"datetime-local",defaultValue:new Date(U.due_date).toISOString().slice(0,16),required:!0})]}),e.jsx(M,{type:"submit",className:"w-full",children:"حفظ التغييرات"})]})]})}),I&&e.jsx(he,{open:!!I,onOpenChange:()=>K(null),children:e.jsxs(ae,{children:[e.jsx(le,{children:e.jsx(ie,{className:"text-right",children:"تعديل الإعلان"})}),e.jsxs("form",{onSubmit:ye,className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(E,{htmlFor:"edit-title",className:"text-right block",children:"العنوان"}),e.jsx(G,{id:"edit-title",name:"title",defaultValue:I.title,required:!0,className:"text-right"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(E,{htmlFor:"edit-content",className:"text-right block",children:"المحتوى"}),e.jsx(ce,{id:"edit-content",name:"content",defaultValue:I.content,required:!0,className:"text-right",rows:4})]}),e.jsx(M,{type:"submit",className:"w-full",children:"حفظ التغييرات"})]})]})}),$&&e.jsx(he,{open:!!$,onOpenChange:()=>z(null),children:e.jsxs(ae,{className:"max-w-2xl",children:[e.jsx(le,{children:e.jsx(ie,{className:"text-right",children:"تعديل المحاضرة"})}),e.jsxs("form",{onSubmit:q,className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(E,{htmlFor:"edit-lecture-title",className:"text-right block",children:"العنوان"}),e.jsx(G,{id:"edit-lecture-title",name:"title",defaultValue:$.title,required:!0,className:"text-right"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(E,{htmlFor:"edit-lecture-desc",className:"text-right block",children:"الوصف"}),e.jsx(ce,{id:"edit-lecture-desc",name:"description",defaultValue:$.description,className:"text-right",rows:3})]}),e.jsx(M,{type:"submit",className:"w-full",children:"حفظ التغييرات"})]})]})}),L&&e.jsx(he,{open:!!L,onOpenChange:()=>Z(null),children:e.jsxs(ae,{className:"max-w-2xl",children:[e.jsx(le,{children:e.jsx(ie,{className:"text-right",children:"تعديل الواجب"})}),e.jsxs("form",{onSubmit:T,className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(E,{htmlFor:"edit-assignment-title",className:"text-right block",children:"عنوان الواجب"}),e.jsx(G,{id:"edit-assignment-title",name:"title",defaultValue:L.title,required:!0,className:"text-right"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(E,{htmlFor:"edit-assignment-desc",className:"text-right block",children:"وصف الواجب"}),e.jsx(ce,{id:"edit-assignment-desc",name:"description",defaultValue:L.description,required:!0,className:"text-right",rows:4})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(E,{htmlFor:"edit-assignment-due",className:"text-right block",children:"تاريخ التسليم"}),e.jsx(G,{id:"edit-assignment-due",name:"dueDate",type:"datetime-local",defaultValue:new Date(L.dueDate).toISOString().slice(0,16),required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(E,{htmlFor:"edit-assignment-file",className:"text-right block",children:"ملف جديد (اختياري)"}),e.jsx(G,{id:"edit-assignment-file",name:"file",type:"file",accept:".pdf",className:"text-right"}),L.hasFile&&e.jsxs("p",{className:"text-sm text-muted-foreground text-right",children:["الملف الحالي: ",L.fileName]})]}),e.jsx(M,{type:"submit",className:"w-full",children:"حفظ التغييرات"})]})]})}),e.jsx(qo,{open:oe,onOpenChange:we,children:e.jsxs(Zs,{children:[e.jsxs(Js,{children:[e.jsx(er,{className:"text-right",children:"هل أنت متأكد؟"}),e.jsx(tr,{className:"text-right",children:"لا يمكن التراجع عن هذا الإجراء. سيتم حذف هذا العنصر نهائياً."})]}),e.jsxs(Qs,{className:"flex-row-reverse gap-2",children:[e.jsx(rr,{children:"إلغاء"}),e.jsx(sr,{onClick:D,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:"حذف"})]})]})})]})}export{an as default};
